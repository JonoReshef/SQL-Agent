SUCCESSFUL MESSAGE
[2025-11-22 15:07:27 - openai._base_client:482 - DEBUG] Request options: {'method': 'post', 'url': '/chat/completions', 'headers': {'X-Stainless-Helper-Method': 'chat.completions.parse', 'X-Stainless-Raw-Response': 'true', 'api-key': '<redacted>'}, 'files': None, 'idempotency_key': 'stainless-python-retry-0ac8d327-a8b4-4561-9eaf-ee138fb16294', 'post_parser': <function Completions.parse.<locals>.parser at 0x11bbd2ac0>, 'json_data': {'messages': [{'content': '<data>', 'role': 'user'}], 'model': None, 'response_format': {'type': 'json_schema', 'json_schema': {'schema': {'$defs': {'ProductItem': {'description': 'Base product item model', 'example': {'exact_product_text': '100 pcs of grade 8 hex bolts', 'product_category': 'Fasteners', 'product_id': 'HB-12345', 'product_name': 'Hex Bolt', 'properties': [{'name': 'grade', 'value': '8', 'value_type': 'measurement', 'confidence': 0.95}, {'name': 'size', 'value': '1/2-13', 'value_type': 'measurement', 'confidence': 0.9}, {'name': 'material', 'value': 'steel', 'value_type': 'description', 'confidence': 1.0}]}, 'properties': {'exact_product_text': {'description': 'The exact text which originally describes a product', 'title': 'Exact Product Text', 'type': 'string'}, 'product_id': {'anyOf': [{'type': 'string'}, {'type': 'null'}], 'description': 'Optional unique identifier for the product', 'title': 'Product Id'}, 'product_name': {'description': 'Name of the product', 'title': 'Product Name', 'type': 'string'}, 'product_category': {'description': 'Category of the product', 'title': 'Product Category', 'type': 'string'}, 'properties': {'type': 'array', 'items': {'$ref': '#/$defs/ProductProperty'}, 'description': 'Product properties as key-value pairs', 'title': 'Properties'}}, 'required': ['exact_product_text', 'product_id', 'product_name', 'product_category', 'properties'], 'title': 'ProductItem', 'type': 'object', 'additionalProperties': False}, 'ProductProperty': {'description': 'A single property of a product', 'example': {'confidence': 0.95, 'name': 'grade', 'priority': 1, 'value': '8', 'value_type': 'measurement'}, 'properties': {'name': {'description': "Property name (e.g., 'grade', 'size', 'material')", 'title': 'Name', 'type': 'string'}, 'value_type': {'default': 'description', 'description': "Property type (e.g., 'measurement', 'description')", 'enum': ['measurement', 'description', 'name', 'other'], 'title': 'Value Type', 'type': 'string'}, 'priority': {'default': 10, 'description': 'Priority for hierarchical filtering (lower = higher priority)', 'title': 'Priority', 'type': 'integer'}, 'value': {'description': 'Property value', 'title': 'Value', 'type': 'string'}, 'confidence': {'anyOf': [{'maximum': 1.0, 'minimum': 0.0, 'type': 'number'}, {'type': 'null'}], 'default': 1.0, 'description': 'Extraction confidence score', 'title': 'Confidence'}}, 'required': ['name', 'value_type', 'priority', 'value', 'confidence'], 'title': 'ProductProperty', 'type': 'object', 'additionalProperties': False}}, 'example': {'exact_product_text': '100 pcs of grade 8 hex bolts', 'product_category': 'Fasteners', 'product_id': 'HB-12345', 'product_name': 'Hex Bolt', 'properties': [{'name': 'grade', 'value': '8', 'value_type': 'measurement', 'confidence': 0.95}, {'name': 'size', 'value': '1/2-13', 'value_type': 'measurement', 'confidence': 0.9}, {'name': 'material', 'value': 'steel', 'value_type': 'description', 'confidence': 1.0}]}, 'properties': {'exact_product_text': {'description': 'The exact text which originally describes a product', 'title': 'Exact Product Text', 'type': 'string'}, 'product_id': {'anyOf': [{'type': 'string'}, {'type': 'null'}], 'description': 'Optional unique identifier for the product', 'title': 'Product Id'}, 'product_name': {'description': 'Name of the product', 'title': 'Product Name', 'type': 'string'}, 'product_category': {'description': 'Category of the product', 'title': 'Product Category', 'type': 'string'}, 'properties': {'type': 'array', 'items': {'$ref': '#/$defs/ProductProperty'}, 'description': 'Product properties as key-value pairs', 'title': 'Properties'}, 'items': {'description': 'List of extracted products', 'items': {'$ref': '#/$defs/ProductItem'}, 'title': 'Items', 'type': 'array'}}, 'required': ['exact_product_text', 'product_id', 'product_name', 'product_category', 'properties', 'items'], 'title': 'ProductItemResult', 'type': 'object', 'additionalProperties': False}, 'name': 'ProductItemResult', 'strict': True}}, 'stream': False, 'temperature': 0.0}}
[2025-11-22 15:07:27 - openai._base_client:978 - DEBUG] Sending HTTP Request: POST https://dapplitellmmaz01-fbdxdxgbetczapfv.canadacentral-01.azurewebsites.net/openai/deployments/gpt-4.1/chat/completions?api-version=2024-08-01-preview
[2025-11-22 15:07:49 - openai._base_client:1016 - DEBUG] HTTP Response: POST https://dapplitellmmaz01-fbdxdxgbetczapfv.canadacentral-01.azurewebsites.net/openai/deployments/gpt-4.1/chat/completions?api-version=2024-08-01-preview "200 OK" Headers({'content-length': '21399', 'content-type': 'application/json', 'date': 'Sat, 22 Nov 2025 22:07:27 GMT', 'server': 'uvicorn', 'x-litellm-call-id': '33e01a33-cd24-4531-8df3-f33924fb1b9b', 'x-litellm-model-id': '37c10392-8b76-4133-8b23-fc3d19877651', 'x-litellm-model-api-base': 'https://dopenaimaz02.openai.azure.com/', 'x-litellm-version': '1.80.0', 'x-litellm-response-cost': '0.05919819300000001', 'x-litellm-response-cost-original': '0.05919819300000001', 'x-litellm-response-cost-discount-amount': '0.0', 'x-litellm-key-spend': '36.541739385999996', 'x-litellm-response-duration-ms': '21435.779', 'x-litellm-overhead-duration-ms': '1.688', 'x-ratelimit-limit-requests': '1000', 'x-ratelimit-remaining-requests': '998', 'x-ratelimit-limit-tokens': '1000000', 'x-ratelimit-remaining-tokens': '992615', 'llm_provider-content-length': '21368', 'llm_provider-content-type': 'application/json', 'llm_provider-apim-request-id': '8823b68a-e0a6-44cc-86d7-eaf9d4677d62', 'llm_provider-strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'llm_provider-x-content-type-options': 'nosniff', 'llm_provider-x-ms-region': 'Canada East', 'llm_provider-x-ratelimit-remaining-requests': '998', 'llm_provider-x-ratelimit-limit-requests': '1000', 'llm_provider-x-ratelimit-remaining-tokens': '992615', 'llm_provider-x-ratelimit-limit-tokens': '1000000', 'llm_provider-azureml-model-session': 'd380-20251122072500', 'llm_provider-x-accel-buffering': 'no', 'llm_provider-x-ms-rai-invoked': 'true', 'llm_provider-x-request-id': '1f448c7f-3c86-4f38-9b14-cb2cdbafcce9', 'llm_provider-x-ms-deployment-name': 'gpt-4.1', 'llm_provider-date': 'Sat, 22 Nov 2025 22:07:48 GMT', 'x-litellm-model-group': 'gpt-4.1', 'x-litellm-attempted-retries': '0', 'x-litellm-attempted-fallbacks': '0'})
[2025-11-22 15:07:49 - openai._base_client:1024 - DEBUG] request_id: None


